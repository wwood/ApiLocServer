<h1><%= @localisations[0].name.capitalize %></h1>
Proteins in this localisation are known in <%= @localisations.reach.species.collect{|s| link_to(s.name, :action => :species, :id => s.name)}.join(', ') %>.
<% category_counter=0 %>
<% @localisations.each do |loc| %>
  <div class="category<%= category_counter+=1; category_counter.odd? ? 'true' : 'false' %>">
    <h3><i><%= loc.species.name %></i></h3>
    <p>
    <% unless loc.localisation_synonyms.length == 0 %>
      Also known as <%= loc.localisation_synonyms.reach.name.sort.join(', ') %>.
    <% end %>
      View <%= link_to 'all', :action => :species, :id => loc.species.name %> proteins localised in <%= loc.species.name %>.</p>
    <ul>
      <% loc.expression_contexts.reach.coding_region.uniq.each do |code| %>
        <li><%= link_to code.string_id, :action => :gene, :id => code.string_id %>
          (<%= code.case_sensitive_literature_defined_coding_region_alternate_string_ids.reach.name.join(', ') %>)
          <%= code.annotation.annotation %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>
